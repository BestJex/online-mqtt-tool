<html>
    <head>
        <script type="text/javascript" src="generate.js"></script>
        <script type="text/javascript" src="jquery.min.js"></script>
        <link rel="stylesheet" type="text/css" href="mqtt-tools.css">
        
        <meta charset="utf-8">
        <title></title>

    </head>
    <body>
        <div class="wrapper-all" id="connectConfig">
            <div class="wrapper">
                <div class="left">
                    <div class="connection1">
                        <div class="form-group">
                            <label for="brokerAddress">服务器地址 *</label>
                            <input type="text" class="form-control" id="brokerAddress" name="host" placeholder="brokerAddress">
                        </div>
                    
                        <div class="form-group">
                            <label for="brokerPort">端口号 *</label>
                            <input type="text" class="form-control" id="brokerPort" name="port" placeholder="brokerPort">
                        </div>

                        <div class="form-group">
                            <label for="brokerCA">CA证书</label>
                            <input type="text" class="form-control" id="brokerCA" name="ca" placeholder="">
                        </div>
                    
                        <div class="form-group">
                            <label for="mqttVersion">MQTT版本</label>
                            <select type="text" class="form-control" id="mqttVersion" name="version">
                            <option value=4>MQTT 3.1.1</option>
                            <option value=3>MQTT 3.1</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="middle">
                    <div class="connection1">
                        <div class="form-group">
                            <label for="userName">用户名</label>
                            <input type="text" class="form-control" id="userName" name="user_name" placeholder="userName">
                        </div>
                    
                        <div class="form-group">
                            <label for="password">密码</label>
                            <input type="text" class="form-control" id="password" name="password" placeholder="password">
                        </div>
                    
                        <div class="form-group">
                            <label for="clientID">客户端ID</label>
                            <input type="text" class="form-control" id="clientID" name="client_id" placeholder="clientID">
                        </div>

                        <div class="form-group">
                            <label for="cleanSession">
                            <input class="form-check-input" type="checkbox" id="cleanSession" name="clean_session" value="1" checked=""> 清除会话 </label>
                        </div>
                    </div>  
                </div>

                <div class="right">
                    <div class="connection-jiejie">
                        <div class="form-group">
                            <label for="keepAliveInterval">心跳（秒）</label>
                            <input type="text" class="form-control" id="keepAliveInterval" name="keep_alive_interval" placeholder="50">
                        </div>
                    
                        <div class="form-group">
                            <label for="cmdTimeout">超时（毫秒）</label>
                            <input type="text" class="form-control" id="cmdTimeout" name="cmd_timeout" placeholder="4000">
                        </div>
                    
                        <div class="form-group">
                            <label for="readBufSize">读缓冲区大小</label>
                            <input type="text" class="form-control" id="readBufSize" name="read_buf_size" placeholder="1024">
                        </div>
                    
                        <div class="form-group">
                            <label for="writeBufSize">写缓冲区大小</label>
                            <input type="text" class="form-control" id="writeBufSize" name="write_buf_size" placeholder="1024">
                        </div>
                    </div> 
                </div>
            </div>
        </div>

        <div class="wrapper-all">
            <div class="wrapper">
                <div class="all">
                    <div class="connection2">
                        <div class="form-group1">
                            <label for="subTopic1">主题名字</label>
                            <input type="text" class="form-control" id="subTopic1" name="sub_topic1" placeholder="topicName">
                        </div>

                        <div class="form-group1">
                            <label for="subTopicQos1">服务质量</label>
                            <select type="text" class="form-control" id="subTopicQos1" name="sub_topic_qos1">
                                <option value=0>QoS0</option>
                                <option value=1>QoS1</option>
                                <option value=2>QoS2</option>
                            </select>
                        </div>

                        <div class="form-group1">
                            <label for="subTopicHandle1">主题处理函数</label>
                            <input type="text" class="form-control" id="subTopicHandle1" name="sub_topic_handle1" placeholder="topicName">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="wrapper-all">
            <div class="wrapper">
                <div class="all">
                    <div class="connection2">
                        <div class="form-group1">
                            <label for="subTopic2">主题名字</label>
                            <input type="text" class="form-control" id="subTopic2" name="sub_topic2" placeholder="topicName">
                        </div>

                        <div class="form-group1">
                            <label for="subTopicQos2">服务质量</label>
                            <select type="text" class="form-control" id="subTopicQos2" name="sub_topic_qos2">
                                <option value=0>QoS0</option>
                                <option value=1>QoS1</option>
                                <option value=2>QoS2</option>
                            </select>
                        </div>

                        <div class="form-group1">
                            <label for="subTopicHandle2">主题处理函数</label>
                            <input type="text" class="form-control" id="subTopicHandle2" name="sub_topic_handle2" placeholder="topicName">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="wrapper1">
            <button type="button" id="importTemplate" name="importTemplate" onclick="import_template()" class="btn btn-primary">导入模板</button>
            <button type="button" id="generate" name="generate" onclick="generate_code()" class="btn btn-primary">生成代码</button>
        </div>


        <div class="wrapper-all">
            <div class="wrapper">
                <div class="all">
                    <div class="connection">
                        <div class="form-group">
                            <label for="generateCode">生成的代码</label>
                            <textarea class="form-control1" id="generateCode" rows="10"></textarea>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <br>
        <script type="text/javascript">

            function import_template() {
                do_import_template();
                // print_value();
            }

            function generate_code() {
                get_value();
                if (addr == "" || port == "") {
                    alert("服务器地址与端口号必须填写");
                    return;
                }
                // print_value();

                $("#generateCode").val(do_generate_code());
            }


        </script>
    </body>
</html>